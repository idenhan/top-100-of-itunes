(this["webpackJsonptop-100-of-itunes"]=this["webpackJsonptop-100-of-itunes"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(20),l=c.n(n),r=c(2),i=c(6),b=c(15),o=c.n(b),j=c(23),u=c(18),m=c(21),d=c.p+"static/media/searchIcon.cc51b702.svg",O=c(0),x=function(e){var t=e.header,c=e.callback,s=e.children,n=Object(a.useState)(""),l=Object(i.a)(n,2),r=l[0],b=l[1],o=Object(a.useRef)(null);return Object(O.jsxs)("section",{className:"albums-grid container",children:[Object(O.jsxs)("div",{className:"albums-grid-headline section-headline",children:[Object(O.jsx)("h2",{children:t}),Object(O.jsxs)("div",{className:"albums-grid-headline-search",children:[Object(O.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",onChange:function(e){var t=e.target.value;clearTimeout(o.current),b(t),o.current=setTimeout((function(){c(t)}),500)},value:r}),Object(O.jsx)("img",{src:d,alt:"Search"})]})]}),Object(O.jsx)("ul",{className:"albums-grid-list",children:s})]})},h=c(8),p=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},f=function(e){var t,c,a=e.album,s=(e.callback,e.index),n=a.id.attributes["im:id"],l=(t=p(a["im:name"].label),c=45,t.substr(0,c-1)+(t.length>c?"...":"")),r=a["im:artist"].label,i=a["im:image"][2].label,b=s+1;return Object(O.jsxs)("li",{className:"album-card",children:[Object(O.jsx)(h.b,{to:{pathname:"/top-100-of-itunes/album/".concat(n),state:{album:a,topNumber:b}},children:Object(O.jsx)("div",{className:"album-card__mobile-link"})}),Object(O.jsx)("div",{className:"album-card__thumbnail",style:{backgroundImage:"url(".concat(i,")")}}),Object(O.jsx)("h3",{className:"album-card__title",children:l}),Object(O.jsx)("p",{className:"album-card__artist",children:r}),Object(O.jsx)("div",{className:"album-card__overlay"}),Object(O.jsx)("p",{className:"album-card__overlay-number",children:b}),Object(O.jsx)(h.b,{to:{pathname:"/top-100-of-itunes/album/".concat(n),state:{album:a,topNumber:b}},children:Object(O.jsx)("span",{className:"album-card__overlay-rect",children:Object(O.jsx)("p",{children:"See album"})})}),Object(O.jsx)("span",{className:"album-card__overlay-shadow"})]})},g=function(e){var t=e.text,c=void 0===t?"Load more albums":t,a=e.callback;return Object(O.jsx)("div",{className:"text-center",children:Object(O.jsxs)("button",{type:"button",style:{borderRadius:"6px"},className:"button button-dark",onClick:a,children:[c," \u2193"]})})},v=(c(35),function(){return Object(O.jsx)("div",{className:"spinner"})}),N=function(){return Object(O.jsx)("section",{className:"footer",children:Object(O.jsxs)("div",{className:"footer__content container",children:[Object(O.jsxs)("p",{children:["Developed by"," ",Object(O.jsx)("a",{href:"https://www.idenhan.com",rel:"noreferrer",target:"_blank",className:"link",children:"Iden Han"})]}),Object(O.jsxs)("p",{children:["Built with"," ",Object(O.jsx)("a",{href:"https://reactjs.org/",className:"link",children:"React JS"})]})]})})},_=function(e){var t=e.text,c=e.callback;return Object(O.jsx)("button",{type:"button",style:{borderRadius:"6px"},className:"sort-btn button-dark",onClick:c,children:t})},w=function(){var e=function(){var e=Object(a.useState)({albums:[]}),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),l=Object(i.a)(n,2),r=l[0],b=l[1],d=Object(a.useState)(!1),O=Object(i.a)(d,2),x=O[0],h=O[1],p=function(){var e=Object(m.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),b(!0),e.prev=2,e.next=5,fetch(t);case 5:return e.next=7,e.sent.json();case 7:c=e.sent,s((function(e){return Object(u.a)(Object(u.a)({},e),{},{albums:Object(j.a)(c.feed.entry)})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),h(!0),console.log(e.t0);case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p("https://itunes.apple.com/us/rss/topalbums/limit=100/json")}),[]),[{state:c,loading:r,error:x},p]}(),t=Object(i.a)(e,1)[0],c=t.state,s=t.loading,n=t.error,l=Object(a.useState)(""),r=Object(i.a)(l,2),b=r[0],d=r[1],h=Object(a.useState)(20),p=Object(i.a)(h,2),w=p[0],k=p[1],y=Object(a.useState)(!1),S=Object(i.a)(y,2),C=S[0],L=S[1],F=Object(a.useState)(!1),I=Object(i.a)(F,2),R=I[0],T=I[1],A=c.albums.filter((function(e){return-1!==e["im:artist"].label.toLowerCase().indexOf(b.toLowerCase())||-1!==e["im:name"].label.toLowerCase().indexOf(b.toLowerCase())}));return console.log(c),n?Object(O.jsx)("div",{children:"Something went wrong!"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("section",{className:"top-albums container",children:Object(O.jsx)("div",{className:"top-albums-right section-headline",children:Object(O.jsx)("div",{className:"top-albums-right-btn",children:Object(O.jsx)(_,{text:"Reverse",callback:function(){L(!C)}})})})}),Object(O.jsx)(x,{header:"Top 100 Albums",callback:function(e){return d(e)},children:C||R?R?void function(){T(!R);var e=[];e.push(c.albums),console.log("temp",e),e[0].sort((function(e,t){return e["im:name"].label>t["im:name"].label?1:-1})),console.log("after temp",e),O.Fragment,A.slice(0,w).map((function(t){return Object(O.jsx)(f,{album:t,index:e.indexOf(t)},t.id.attributes["im:id"])}))}():Object(O.jsx)(O.Fragment,{children:A.reverse().slice(0,w).map((function(e){return Object(O.jsx)(f,{album:e,index:c.albums.indexOf(e)},e.id.attributes["im:id"])}))}):Object(O.jsx)(O.Fragment,{children:A.slice(0,w).map((function(e){return Object(O.jsx)(f,{album:e,index:c.albums.indexOf(e)},e.id.attributes["im:id"])}))})}),s&&Object(O.jsx)(v,{}),w<A.length&&!s&&Object(O.jsx)(g,{text:"Load more albums",callback:function(){k((function(e){return e+20}))}}),Object(O.jsx)(N,{})]})},k=function(e){var t,c=e.location.state,a=c.album,s=c.topNumber,n=p(a["im:name"].label),l=a["im:artist"].label,r=a["im:image"][2].label,i=a.category.attributes.label,b=(t=a["im:releaseDate"].label,new Date(t).getFullYear()),o=a["im:itemCount"].label;return Object(O.jsx)("section",{children:Object(O.jsx)("div",{className:"container wrapper",children:Object(O.jsx)("div",{className:"single-album",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-2"}),Object(O.jsx)("div",{className:"col-sm-6 col-lg-5 col-xl-4",children:Object(O.jsx)("div",{className:"single-album__thumbnail-wrapper",children:Object(O.jsx)("img",{src:r,alt:"Album Cover",className:"single-album__thumbnail"})})}),Object(O.jsx)("div",{className:"col-sm-6 col-lg-5 col-xl-4",children:Object(O.jsxs)("div",{className:"single-album__content",children:[Object(O.jsx)("p",{className:"single-album__content-number",children:s}),Object(O.jsx)("h2",{className:"single-album__content-title",children:n}),Object(O.jsx)("h4",{className:"single-album__content-artist",children:l}),Object(O.jsxs)("p",{className:"single-album__content-text",children:[i," \xb7 ",b]}),Object(O.jsxs)("p",{className:"single-album__content-text",children:[o," Songs"]}),Object(O.jsx)(h.b,{to:"/top-100-of-itunes",children:Object(O.jsx)("button",{type:"button",className:"button button-dark",children:"\u2190 See all albums"})})]})}),Object(O.jsx)("div",{className:"col-2"})]})})})})},y=function(){return Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{exact:!0,path:"/top-100-of-itunes",component:w}),Object(O.jsx)(r.b,{exact:!0,path:"/top-100-of-itunes/album/:id",component:k}),Object(O.jsx)(r.b,{path:"/top-100-of-itunes/album",children:Object(O.jsx)(r.a,{push:!0,to:"/top-100-of-itunes"})})]})},S=(c(36),c.p+"static/media/itunesLogo.51c90326.svg"),C=function(){return Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("div",{className:"container d-flex justify-content-between align-items-center",children:Object(O.jsx)(h.b,{to:"/top-100-of-itunes",children:Object(O.jsxs)("span",{className:"logo",children:[Object(O.jsx)("img",{src:S,alt:"Logo"}),Object(O.jsx)("h1",{children:"THOI"})]})})})})};var L=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(C,{}),Object(O.jsx)(y,{})]})})};l.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.1f9e9b97.chunk.js.map