(this["webpackJsonptop-100-of-itunes"]=this["webpackJsonptop-100-of-itunes"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(20),l=c.n(n),r=c(2),i=c(7),b=c(15),j=c.n(b),o=c(23),u=c(18),m=c(21),d=c.p+"static/media/searchIcon.cc51b702.svg",x=c(0),O=function(e){var t=e.header,c=e.callback,s=e.children,n=Object(a.useState)(""),l=Object(i.a)(n,2),r=l[0],b=l[1],j=Object(a.useRef)(null);return Object(x.jsxs)("section",{className:"albums-grid container",children:[Object(x.jsxs)("div",{className:"albums-grid-headline section-headline",children:[Object(x.jsx)("h2",{children:t}),Object(x.jsxs)("div",{className:"albums-grid-headline-search",children:[Object(x.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",onChange:function(e){var t=e.target.value;clearTimeout(j.current),b(t),j.current=setTimeout((function(){c(t)}),500)},value:r}),Object(x.jsx)("img",{src:d,alt:"Search"})]})]}),Object(x.jsx)("ul",{className:"albums-grid-list",children:s})]})},h=c(8),p=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},f=function(e){var t,c,a=e.album,s=(e.callback,e.index),n=a.id.attributes["im:id"],l=(t=p(a["im:name"].label),c=45,t.substr(0,c-1)+(t.length>c?"...":"")),r=a["im:artist"].label,i=a["im:image"][2].label,b=s+1;return Object(x.jsxs)("li",{className:"album-card",children:[Object(x.jsx)(h.b,{to:{pathname:"/album/".concat(n),state:{album:a,topNumber:b}},children:Object(x.jsx)("div",{className:"album-card__mobile-link"})}),Object(x.jsx)("div",{className:"album-card__thumbnail",style:{backgroundImage:"url(".concat(i,")")}}),Object(x.jsx)("h3",{className:"album-card__title",children:l}),Object(x.jsx)("p",{className:"album-card__artist",children:r}),Object(x.jsx)("div",{className:"album-card__overlay"}),Object(x.jsx)("p",{className:"album-card__overlay-number",children:b}),Object(x.jsx)(h.b,{to:{pathname:"/album/".concat(n),state:{album:a,topNumber:b}},children:Object(x.jsx)("span",{className:"album-card__overlay-rect",children:Object(x.jsx)("p",{children:"See album"})})}),Object(x.jsx)("span",{className:"album-card__overlay-shadow"})]})},g=function(e){var t=e.text,c=void 0===t?"Load more albums":t,a=e.callback;return Object(x.jsx)("div",{className:"text-center",children:Object(x.jsxs)("button",{type:"button",style:{borderRadius:"6px"},className:"button button-dark",onClick:a,children:[c," \u2193"]})})},v=(c(35),function(){return Object(x.jsx)("div",{className:"spinner"})}),N=function(){return Object(x.jsx)("section",{className:"footer",children:Object(x.jsxs)("div",{className:"footer__content container",children:[Object(x.jsxs)("p",{children:["Developed by"," ",Object(x.jsx)("a",{href:"https://www.idenhan.com",rel:"noreferrer",target:"_blank",className:"link",children:"Iden Han"})]}),Object(x.jsxs)("p",{children:["Built with"," ",Object(x.jsx)("a",{href:"https://reactjs.org/",className:"link",children:"React JS"})]})]})})},_=function(e){var t=e.text,c=e.callback;return Object(x.jsx)("button",{type:"button",style:{borderRadius:"6px"},className:"sort-btn button-dark",onClick:c,children:t})},k=function(){var e=function(){var e=Object(a.useState)({albums:[]}),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),l=Object(i.a)(n,2),r=l[0],b=l[1],d=Object(a.useState)(!1),x=Object(i.a)(d,2),O=x[0],h=x[1],p=function(){var e=Object(m.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),b(!0),e.prev=2,e.next=5,fetch(t);case 5:return e.next=7,e.sent.json();case 7:c=e.sent,s((function(e){return Object(u.a)(Object(u.a)({},e),{},{albums:Object(o.a)(c.feed.entry)})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),h(!0),console.log(e.t0);case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p("https://itunes.apple.com/us/rss/topalbums/limit=100/json")}),[]),[{state:c,loading:r,error:O},p]}(),t=Object(i.a)(e,2),c=t[0],s=c.state,n=c.loading,l=c.error,r=(t[1],Object(a.useState)("")),b=Object(i.a)(r,2),d=b[0],h=b[1],p=Object(a.useState)(20),k=Object(i.a)(p,2),w=k[0],y=k[1],S=Object(a.useState)(!1),C=Object(i.a)(S,2),L=C[0],F=C[1],I=s.albums.filter((function(e){return-1!==e["im:artist"].label.toLowerCase().indexOf(d.toLowerCase())||-1!==e["im:name"].label.toLowerCase().indexOf(d.toLowerCase())})),R=function(){F(!L)};return console.log(s),l?Object(x.jsx)("div",{children:"Something went wrong!"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("section",{className:"top-albums container",children:Object(x.jsx)("div",{className:"top-albums-right section-headline",children:Object(x.jsxs)("div",{className:"top-albums-right-btn",children:[Object(x.jsx)(_,{text:"Reverse",callback:R}),Object(x.jsx)(_,{text:"By Name",callback:R}),Object(x.jsx)(_,{text:"By Date",callback:R})]})})}),Object(x.jsx)(O,{header:"Top 100 Albums",callback:function(e){return h(e)},children:L?Object(x.jsx)(x.Fragment,{children:I.reverse().slice(0,w).map((function(e){return Object(x.jsx)(f,{album:e,index:s.albums.indexOf(e)},e.id.attributes["im:id"])}))}):Object(x.jsx)(x.Fragment,{children:I.slice(0,w).map((function(e){return Object(x.jsx)(f,{album:e,index:s.albums.indexOf(e)},e.id.attributes["im:id"])}))})}),n&&Object(x.jsx)(v,{}),w<I.length&&!n&&Object(x.jsx)(g,{text:"Load more albums",callback:function(){y((function(e){return e+20}))}}),Object(x.jsx)(N,{})]})},w=function(e){var t,c=e.location.state,a=c.album,s=c.topNumber,n=p(a["im:name"].label),l=a["im:artist"].label,r=a["im:image"][2].label,i=a.category.attributes.label,b=(t=a["im:releaseDate"].label,new Date(t).getFullYear()),j=a["im:itemCount"].label;return Object(x.jsx)("section",{children:Object(x.jsx)("div",{className:"container wrapper",children:Object(x.jsx)("div",{className:"single-album",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-2"}),Object(x.jsx)("div",{className:"col-sm-6 col-lg-5 col-xl-4",children:Object(x.jsx)("div",{className:"single-album__thumbnail-wrapper",children:Object(x.jsx)("img",{src:r,alt:"Album Cover",className:"single-album__thumbnail"})})}),Object(x.jsx)("div",{className:"col-sm-6 col-lg-5 col-xl-4",children:Object(x.jsxs)("div",{className:"single-album__content",children:[Object(x.jsx)("p",{className:"single-album__content-number",children:s}),Object(x.jsx)("h2",{className:"single-album__content-title",children:n}),Object(x.jsx)("h4",{className:"single-album__content-artist",children:l}),Object(x.jsxs)("p",{className:"single-album__content-text",children:[i," \xb7 ",b]}),Object(x.jsxs)("p",{className:"single-album__content-text",children:[j," Songs"]}),Object(x.jsx)(h.b,{to:"/",children:Object(x.jsx)("button",{type:"button",className:"button button-dark",children:"\u2190 See all albums"})})]})}),Object(x.jsx)("div",{className:"col-2"})]})})})})},y=function(){return Object(x.jsxs)(r.d,{children:[Object(x.jsx)(r.b,{exact:!0,path:"/",component:k}),Object(x.jsx)(r.b,{exact:!0,path:"/album/:id",component:w}),Object(x.jsx)(r.b,{path:"/album",children:Object(x.jsx)(r.a,{push:!0,to:"/"})})]})},S=(c(36),c.p+"static/media/itunesLogo.51c90326.svg"),C=function(){return Object(x.jsx)("div",{className:"header",children:Object(x.jsx)("div",{className:"container d-flex justify-content-between align-items-center",children:Object(x.jsx)(h.b,{to:"/",children:Object(x.jsxs)("span",{className:"logo",children:[Object(x.jsx)("img",{src:S,alt:"Logo"}),Object(x.jsx)("h1",{children:"THOI"})]})})})})};var L=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(h.a,{children:[Object(x.jsx)(C,{}),Object(x.jsx)(y,{})]})})};l.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(L,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.e5ada2ae.chunk.js.map